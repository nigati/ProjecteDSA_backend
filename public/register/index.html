<!DOCTYPE>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            //alert("Hola");
            $("#botonRegistro").click(function () {
            var email1 = $("#email").val();
            var pass1= $("#password").val();
            var email2 = $("#email2").val();
            var pass2= $("#password2").val();
            if ((email1).match(email2) && (pass1).match(pass2))
            {
                var dataBody=
                {
                    username: $("#usrname").val(),
                    email: $("#email").val(),
                    password: $("#password").val()
                }
                //alert(dataBody.username);

                var URL = "/dsaApp/users/register";
                //alert(url);
                 $.post({
                    url: URL,
                    data: JSON.stringify(dataBody),
                    contentType: 'application/json; charset=utf-8'
                })
                    .done(function (data, status) {
                        //alert("Data: " + data.username + " wellcome! \nStatus: " + status);
                        alert("Wellcome! \nStatus: " + status);


                    })
                    .fail(function (xhr, err) {
                        alert("Something went wrong");
                        location.reload();
                   })
            }
            else
            {
                alert("Password and email do not match");
            }
            });
        });
    </script>
</head>
<body>

<div class="jumbotron text-center">
    <h1>REGISTRATE</h1>
</div>
<!--<div class="container-md">-->
<!--    <div class="form-group">-->
<!--        <label for="usrname">User name:</label>-->
<!--        <input type="text" class="form-control" id="usrname">-->
<!--        <label for="email">E-mail:</label>-->
<!--        <input type="text" class="form-control" id="email">-->
<!--        <label for="password">Password:</label>-->
<!--        <input type="text" class="form-control" id="password">-->
<!--    </div>-->
<!--    <button type="button" class="btn btn-info " id="botonRegistro">Sign In</button>-->
<!--    <a href="/login/" class="btn btn-info" role="button">Login</a>-->
<!--</div>-->
<div class="container">
    <div class = "was-validated">
        <div class="form-group">
            <label for="usrname">Username:</label>
            <input type="text" class="form-control" id="usrname" placeholder="Enter username" name="usrname" required>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="text" class="form-control" id="email" placeholder="Enter email" name="email" required>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="text" class="form-control" id="email2" placeholder="Enter email again" name="email2" required>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" class="form-control" id="password2" placeholder="Enter password again" name="password2" required>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <a class="btn btn-info" role="button" id="botonRegistro">Sign up</a>
        <a href="/login/" class="btn btn-info" role="button">Log In</a>

    </div>
</div>
</body>
</html>